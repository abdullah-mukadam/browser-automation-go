
You are an expert Golang automation engineer using Go Rod. 
Your goal is to convert the raw recorded session below into a reusable, production-ready Go function.

SEMANTIC CONTEXT:
[
  {
    "seq": 1,
    "type": "navigate",
    "target": {
      "tag": "",
      "sel": "window"
    },
    "rank": "High",
    "val": "https://www.google.com/"
  },
  {
    "seq": 2,
    "type": "input",
    "target": {
      "tag": "textarea",
      "text": "Search",
      "sel": "#APjFqb",
      "attr": {
        "class": "gLFyf",
        "id": "APjFqb",
        "name": "q",
        "placeholder": "",
        "role": "combobox"
      }
    },
    "rank": "High",
    "val": "cats"
  },
  {
    "seq": 8,
    "type": "navigate",
    "target": {
      "tag": "",
      "sel": "window"
    },
    "rank": "High",
    "val": "https://www.google.com/search?q=cats\u0026sca_esv=2e0ce5bd22b7d86a\u0026sxsrf=ANbL-n7BhclsH-GAAMRmiFCmdp0ww9t1Eg%3A1767978589797\u0026source=hp\u0026ei=XTZhabyGL5yD4-EP1YG3-Qs\u0026iflsig=AFdpzrgAAAAAaWFEbYsTocPmCF6T1jhjrtCWxQlxw53m\u0026ved=0ahUKEwj8qMG--f6RAxWcwTgGHdXALb8Q4dUDCCA\u0026uact=5\u0026oq=cats\u0026gs_lp=Egdnd3Mtd2l6IgRjYXRzMgsQLhiABBixAxiDATIIEAAYgAQYsQMyBRAAGIAEMggQABiABBixAzIIEAAYgAQYsQMyBRAAGIAEMgsQLhiABBiKBRixAzIIEC4YgAQYsQMyBRAAGIAEMggQABiABBixA0jEC1AAWMoJcAF4AJABAJgBUaAB_QKqAQE1uAEDyAEA-AEBmAIGoAKeA6gCCsICBBAjGCfCAgsQABiABBixAxiDAcICCxAuGIAEGMcBGNEDwgIHECMY6gIYJ8ICERAuGIAEGLEDGIMBGMcBGNEDwgIOEAAYgAQYigUYsQMYgwHCAg4QLhiABBixAxjHARjRA5gDBJIHATagB6gxsgcBNbgHmQPCBwcwLjMuMi4xyAcXgAgB\u0026sclient=gws-wiz"
  },
  {
    "seq": 9,
    "type": "navigate",
    "target": {
      "tag": "",
      "sel": "window"
    },
    "rank": "High",
    "val": "https://en.wikipedia.org/wiki/Cat"
  },
  {
    "seq": 10,
    "type": "click",
    "target": {
      "tag": "p",
      "sel": "p"
    },
    "rank": "Low"
  },
  {
    "seq": 11,
    "type": "navigate",
    "target": {
      "tag": "",
      "sel": "window"
    },
    "rank": "High",
    "val": "https://www.google.com/search?q=note+taker+online\u0026rlz=1C5CHFA_enIN992IN993\u0026oq=note+taker+online\u0026gs_lcrp=EgZjaHJvbWUyCQgAEEUYORiABDIHCAEQABiABDIICAIQABgWGB4yCAgDEAAYFhgeMggIBBAAGBYYHjIICAUQABgWGB4yCAgGEAAYFhgeMggIBxAAGBYYHjIICAgQABgWGB4yCAgJEAAYFhge0gEINDgwOWowajeoAgCwAgA\u0026sourceid=chrome\u0026ie=UTF-8"
  },
  {
    "seq": 12,
    "type": "click",
    "target": {
      "tag": "a",
      "sel": ".zReHs",
      "attr": {
        "class": "zReHs"
      }
    },
    "rank": "High"
  },
  {
    "seq": 13,
    "type": "input",
    "target": {
      "tag": "textarea",
      "text": "Search",
      "sel": "#APjFqb",
      "attr": {
        "class": "gLFyf",
        "id": "APjFqb",
        "name": "q",
        "placeholder": "",
        "role": "combobox"
      }
    },
    "rank": "High",
    "val": "note taker online"
  },
  {
    "seq": 14,
    "type": "navigate",
    "target": {
      "tag": "",
      "sel": "window"
    },
    "rank": "High",
    "val": "https://quillbot.com/notepad"
  },
  {
    "seq": 15,
    "type": "click",
    "target": {
      "tag": "button",
      "sel": ".MuiButtonBase-root",
      "attr": {
        "class": "MuiButtonBase-root MuiIconButton-root MuiIconButton-sizeMedium css-1n5ry8e",
        "role": "button"
      }
    },
    "rank": "High"
  },
  {
    "seq": 16,
    "type": "click",
    "target": {
      "tag": "button",
      "sel": ".MuiButton-root",
      "attr": {
        "class": "MuiButton-root MuiButton-text MuiButton-textPrimary MuiButton-sizeLarge MuiButton-textSizeLarge MuiButtonBase-root css-77w9tk"
      }
    },
    "rank": "High"
  },
  {
    "seq": 17,
    "type": "click",
    "target": {
      "tag": "div",
      "sel": "#gc-container",
      "attr": {
        "class": "MuiBox-root css-1dqyh32",
        "id": "gc-container"
      }
    },
    "rank": "Low"
  }
]

---

### SUB-TASK 1: SMART SELECTOR GENERATION (CRITICAL)
The 'selector' field in the JSON is often brittle (e.g., dynamic IDs or obfuscated class names).
**You must generate robust selectors by analyzing the 'attr' (attributes) map.**

**Priority Order for Selectors:**
1. **Accessibility Attributes (Best)**: If you see 'aria-label', 'aria-placeholder', or 'role', use them.
   - *JSON*: {"tag": "input", "attr": {"aria-label": "Search Reddit"}}
   - *Code*: page.MustElement("input[aria-label='Search Reddit']")
2. **Visual Attributes (Good)**: If you see 'placeholder' or 'title', use them.
   - *JSON*: {"tag": "input", "attr": {"placeholder": "Search..."}}
   - *Code*: page.MustElement("input[placeholder='Search...']")
3. **Text Matching (For Non-Inputs)**: If the element is a Button or Link, ignore the CSS selector and match by text.
   - *JSON*: {"tag": "button", "text": "Log In"}
   - *Code*: page.MustElementR("button", "Log In")
4. **Fallback**: Only use ID or Name if no human-readable attributes exist.

### SUB-TASK2: SEMANTIC VARIABLE EXTRACTION & GENERALIZATION
You must transform this rigid recording into a flexible automation flow.

**Phase 1: Token Analysis (Fixed vs. Variable)**
1. Analyze user inputs in the JSON. Break them into "Fixed Tokens" (structure) and "Variable Tokens" (user intent).
2. **Bucketing:** For Variable Tokens, assign a generic CamelCase name (e.g., 'sushi' -> 'cuisineType', 'harry potter' -> 'searchTopic').
3. **Signature:** Create a function signature accepting these variables: 'func RunFlow(page *rod.Page, searchTopic string)'.

**Phase 2: Contextual Generalization (The "Search vs. Direct Link" Rule)**
Crucial: You must identify where these variable tokens appear LATER in the session (in URLs, selectors, or text matches) and generalize the action.

1. **Deep Link Sanitization:** - If the recording shows a navigation to a URL containing a variable token (e.g., 'reddit.com/r/HarryPotter'), **DO NOT** hardcode this URL.
   - **Reasoning:** If the user changes 'Harry Potter' to 'Lord of the Rings', the 'HarryPotter' URL is invalid.
   - **Solution:** Navigate to the **generic base URL** (e.g., 'reddit.com') and deduce the next steps (using search bars or menus) based on the user's previous intent.

2. **Cross-Step Replacement:**
   - If a selector relies on text that matches a variable (e.g., clicking a link with text "History of Harry Potter"), replace the hardcoded string with the variable.
   - Code: 'page.MustElementR("a", searchTopic).MustClick()'

### CRITICAL RULES FOR ROBUSTNESS:
1. **Handle Navigation**: 'action_type: navigate' -> 'page.MustNavigate("url").MustWaitLoad()'.
2. **Wait for Visibility**: Always chain '.MustWaitVisible()' before clicking or typing.
3. **Wait for Stability**: Use '.MustWaitStable()' for animations.
4. **Smart Selectors**: If a selector looks unstable, use 'page.MustElementR(...)' to match by text.

Output ONLY the Go code.
